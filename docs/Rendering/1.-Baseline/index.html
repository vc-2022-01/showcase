<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Proportionality and symmetry # The key to the illusion realized in the game by forced perception is the proportionality that exists between the field of view and the object. The object grows as much as the field of view. This can be demonstrated by the proportionality theorem for triangles, where the ratio between z&rsquo;/z is equivalent to the ratio between x&rsquo;/x, since they have the same θ the angle of the field of view:"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Proportionality and symmetry # The key to the illusion realized in the game by forced perception is the proportionality that exists between the field of view and the object. The object grows as much as the field of view. This can be demonstrated by the proportionality theorem for triangles, where the ratio between z&rsquo;/z is equivalent to the ratio between x&rsquo;/x, since they have the same θ the angle of the field of view:"><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/Rendering/1.-Baseline/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-18T13:06:20-05:00"><title>1. Baseline | Computación Visual</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.b7e8227560787e23e59e0ee83696fc55a4f2f281bac3667410c79b5793a0c620.js integrity="sha256-t+gidWB4fiPlng7oNpb8VaTy8oG6w2Z0EMebV5OgxiA=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computación Visual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-f16bacd6ba641988bf9f5904b3e35c52 class=toggle>
<label for=section-f16bacd6ba641988bf9f5904b3e35c52 class="flex justify-between"><a href=/showcase/docs/Members/>Members</a></label><ul><li><a href=/showcase/docs/Members/Andr%C3%A9s-Felipe-Betancurth-Becerra/>Andrés Felipe Betancurth Becerra</a></li><li><a href=/showcase/docs/Members/Gabriela-Mar%C3%ADa-Garc%C3%ADa-Romero/>Gabriela María García Romero</a></li><li><a href=/showcase/docs/Members/Juan-Manuel-Correa-Lombana/>Juan Manuel Correa Lombana</a></li></ul></li><li><input type=checkbox id=section-3e112ead3fbe9fbd824a55c99407a06b class=toggle>
<label for=section-3e112ead3fbe9fbd824a55c99407a06b class="flex justify-between"><a href=/showcase/docs/Perlin-Noise/>Perlin Noise</a></label><ul><li><a href=/showcase/docs/Perlin-Noise/Particule/>Particule</a></li><li><a href=/showcase/docs/Perlin-Noise/Terrain/>Terrain</a></li></ul></li><li><a href=/showcase/docs/Rendering/>Rendering</a><ul><li><a href=/showcase/docs/Rendering/1.-Baseline/ class=active>1. Baseline</a></li><li><a href=/showcase/docs/Rendering/2.-Pixel-Density/>2. Pixel Density</a></li><li><a href=/showcase/docs/Rendering/3.-Aplications/>3. Aplications</a></li><li><a href=/showcase/docs/Rendering/4.-Conslusions/>4. Conslusions</a></li><li><a href=/showcase/docs/Rendering/pruebas/>Pruebas</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>1. Baseline</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#proportionality-and-symmetry>Proportionality and symmetry</a></li><li><a href=#code-base>Code base</a></li></ul></nav></aside></header><article class=markdown><h1 id=proportionality-and-symmetry>Proportionality and symmetry
<a class=anchor href=#proportionality-and-symmetry>#</a></h1><p>The key to the illusion realized in the game by forced perception is the proportionality that exists between the field of view and the object. The object grows as much as the field of view. This can be demonstrated by the proportionality theorem for triangles, where the ratio between <em>z&rsquo;/z</em> is equivalent to the ratio between <em>x&rsquo;/x</em>, since they have the same θ the angle of the field of view:</p><p><img src="https://github.com/ggarciarom/NewProyect/blob/master/proportion.png?raw=true" alt=1></p><p><link rel=stylesheet href=/showcase/katex/katex.min.css><script defer src=/showcase/katex/katex.min.js></script>
<script defer src=/showcase/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>
\[ \frac{x'}{x} = \frac{z'}{z} \]</span>
entonces</p><span>\[ x' = \frac{z'*x}{z} \]</span><p>The same applies to the y-axis:</p><p><span>\[ \frac{y'}{y} = \frac{z'}{z} \]</span>
therefore</p><span>\[ y' = \frac{z'*y}{z} \]</span><p>That is, a change in the distance at which the object is zoomed out will be proportional to the size at which the object grows. And the perception obtained by the camera will be symmetrical.</p><p><img src="https://github.com/ggarciarom/NewProyect/blob/master/PitifulLankyBangeltiger-mobile.gif?raw=true" alt=2></p><h1 id=code-base>Code base
<a class=anchor href=#code-base>#</a></h1><p>Below is the code in which the phenomenon of forced perspective is explored, this has two scenes, one is the camera and the other is the screen space. Through the following code you can see how the changes made from the camera perspective are reflected in the screen space.</p><blockquote class="book-hint info"><p><strong>Instructions</strong></p><ul><li>Select one of the boxes by pressing one of the numbers from 0 to 9. The box selected will turn red.</li><li>Use the letter <em>w</em> move the box further from the camera and the letter <em>z</em> to move it closer.</li><li>Use the slider to adjust the zoom of the camera.</li><li>On the left you can see how the box remains the same size, while on the right you can see how the object is increasing or decreasing in size in the world.</li></ul></blockquote><iframe src=https://editor.p5js.org/ggarciarom/full/vA18COBk- width=600 height=350></iframe>
<details><summary>Base superliminal</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>fbo1</span>, <span style=color:#a6e22e>fbo2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cam1</span>, <span style=color:#a6e22e>cam2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>target</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>150</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>length</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>600</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>boxes</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>box_key</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>fovy</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>SPEED</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#a6e22e>length</span>, <span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// frame buffer object instances (FBOs)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fbo1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// FBOs cams
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>cam1</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Dw</span>.<span style=color:#a6e22e>EasyCam</span>(<span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>_renderer</span>, { <span style=color:#a6e22e>distance</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>200</span> });
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>state1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cam1</span>.<span style=color:#a6e22e>getState</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cam1</span>.<span style=color:#a6e22e>attachMouseListeners</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cam1</span>.<span style=color:#a6e22e>state_reset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>state1</span>;   <span style=color:#75715e>// state to use on reset (double-click/tap)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>cam1</span>.<span style=color:#a6e22e>setViewport</span>([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cam2</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Dw</span>.<span style=color:#a6e22e>EasyCam</span>(<span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>_renderer</span>, { <span style=color:#a6e22e>rotation</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0.94</span>, <span style=color:#ae81ff>0.33</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>] });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cam2</span>.<span style=color:#a6e22e>attachMouseListeners</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_renderer</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>state2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cam2</span>.<span style=color:#a6e22e>getState</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cam2</span>.<span style=color:#a6e22e>state_reset</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>state2</span>;   <span style=color:#75715e>// state to use on reset (double-click/tap)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>cam2</span>.<span style=color:#a6e22e>setViewport</span>([<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span>]);
</span></span><span style=display:flex><span>  document.<span style=color:#a6e22e>oncontextmenu</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () { <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>; }
</span></span><span style=display:flex><span>  <span style=color:#75715e>// scene
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>colorMode</span>(<span style=color:#a6e22e>RGB</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>trange</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>boxes</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>boxes</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>      {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>position</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>createVector</span>((<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>trange</span>, (<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>trange</span>, (<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>trange</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>size</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>25</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>8</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>color</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>color</span>(<span style=color:#a6e22e>random</span>(), <span style=color:#a6e22e>random</span>(), <span style=color:#a6e22e>random</span>())
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fovy</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>12</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>11</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>12</span>), <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>48</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fovy</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fovy</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>125</span>, <span style=color:#ae81ff>115</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>reset</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>perspective</span>(<span style=color:#a6e22e>fovy</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>axes</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>grid</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scene1</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>fbo1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>130</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>reset</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>axes</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>grid</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scene2</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>viewFrustum</span>(<span style=color:#a6e22e>fbo1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>beginHUD</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>fbo2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>endHUD</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>scene1</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>boxes</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>box</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>boxes</span>[<span style=color:#a6e22e>box_key</span>] <span style=color:#f92672>===</span> <span style=color:#a6e22e>box</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;red&#39;</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>position</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>boxes</span>[<span style=color:#a6e22e>box_key</span>] <span style=color:#f92672>===</span> <span style=color:#a6e22e>box</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsPressed</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>mouseIsPressed</span>) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>boxLocation</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>treeLocation</span>([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>], { <span style=color:#a6e22e>from</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>mMatrix</span>(), <span style=color:#a6e22e>to</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;WORLD&#39;</span> });
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pixelRatio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>pixelRatio</span>(<span style=color:#a6e22e>boxLocation</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>target</span> <span style=color:#f92672>??=</span> <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>pixelRatio</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>target</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>pixelRatio</span>;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>eyeLocation</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>treeLocation</span>([<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>], { <span style=color:#a6e22e>from</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;EYE&#39;</span>, <span style=color:#a6e22e>to</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;WORLD&#39;</span> });
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>position</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>p5</span>.<span style=color:#a6e22e>Vector</span>.<span style=color:#a6e22e>sub</span>(<span style=color:#a6e22e>boxLocation</span>, <span style=color:#a6e22e>eyeLocation</span>).<span style=color:#a6e22e>normalize</span>().<span style=color:#a6e22e>mult</span>(<span style=color:#a6e22e>key</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;w&#39;</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>SPEED</span> <span style=color:#f92672>:</span> <span style=color:#f92672>-</span><span style=color:#a6e22e>SPEED</span>));
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>target</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>undefined</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>box</span>(<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>size</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo1</span>.<span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>scene2</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>boxes</span>.<span style=color:#a6e22e>forEach</span>(<span style=color:#a6e22e>box</span> =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>boxes</span>[<span style=color:#a6e22e>box_key</span>] <span style=color:#f92672>===</span> <span style=color:#a6e22e>box</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>color</span>(<span style=color:#e6db74>&#39;red&#39;</span>) <span style=color:#f92672>:</span> <span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>position</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>box</span>(<span style=color:#a6e22e>box</span>.<span style=color:#a6e22e>size</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fbo2</span>.<span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>keyPressed</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// press [0..9] keys to pick a box and other keys
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// to unpick, excepting &#39;w&#39; and &#39;z&#39; which are used
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// to move the box away or closer to eye.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>key</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;w&#39;</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>key</span> <span style=color:#f92672>!==</span> <span style=color:#e6db74>&#39;z&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>box_key</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>key</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/5fea336d1002157fcc3aa1991b3869e90c0322ef title='Last modified by ggarciarom | June 18, 2022' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 18, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#proportionality-and-symmetry>Proportionality and symmetry</a></li><li><a href=#code-base>Code base</a></li></ul></nav></div></aside></main></body></html>